[[aura-reference-security]]
= Single Sign-On (SSO)
:description: SSO allows you to log in to the Aura Console using their company IdP credentials.

* *AuraDB Virtual Dedicated Cloud and AuraDS Enterprise* Supports both Organization SSO and Instance SSO which are configurable in the Aura console. 
Organization owners and organization admins can configure one or more Single Sign-On (SSO) login methods for user authentication.
* *AuraDB Business Critical* Individual instance level SSO is available by request through support.

SSO allows users to authenticate through an Identity Provider (IdP) to access an organization or instances within a project.
 
== Organization SSO 

_Use as a login method for the organization_ 

=== Organization SSO login methods

* Okta
* Microsoft Entra ID
* Google SSO (not Google Workspace SSO) 

You can disable email/password and Google SSO if Okta or Microsoft Entra ID are configured.

When Organization SSO is set up, the *Organization SSO login* link is available in the *Organization Settings > Summary* section of the Aura console. 

=== SSO Org level roles

The following roles are available at the organization level and these are assigned via invitation:

* Owner
* Admin
* Member

:check-mark: icon:check[]

.Roles
[opts="header",cols="3,1,1,1"]
|===
| Capability
| Owner
| Admin
| Member

| List org
| {check-mark}
| {check-mark}
| {check-mark}

| List org projects
| {check-mark}
| {check-mark}
| {check-mark}

| Update org
| {check-mark}
| {check-mark}
|

| Add projects
| {check-mark}
| {check-mark}
|

| List existing SSO configs
| {check-mark}
| {check-mark}
|

| Add SSO configs
| {check-mark}
| {check-mark}
|

| List SSO configs on project-level
| {check-mark}
| {check-mark}
|

| Update SSO configs on project-level
| {check-mark}
| {check-mark}
|

| Delete SSO configs on project-level
| {check-mark}
| {check-mark}
|

| Invite non-owner users to org
| {check-mark}
| {check-mark}
|

| List users
| {check-mark}
| {check-mark}
|

| List roles
| {check-mark}
| {check-mark}
|

| List members of a project
| {check-mark}
| {check-mark} footnote:[An admin can only list members of projects the admin is also a member of.]
|

// | Add customer information for a trial within org
// | {check-mark}
// | {check-mark}
// |

// | List customer information for a trial within org
// | {check-mark}
// | {check-mark}
// |

// | List seamless login for org
// | {check-mark}
// | {check-mark}
// |

// | Update seamless login for org
// | {check-mark}
// | {check-mark}
// |

| Invite owners to org
| {check-mark}
|
|

| Add owner
| {check-mark}
|
|

| Delete owners
| {check-mark}
|
|

| Transfer projects to and from the org
| {check-mark} footnote:[An owner needs to permission for both the source and destination orgs.]
|
|
|===

== Instance SSO 

_Use as a login method for instances within Projects in this Org._

You can choose which projects are included during set up.
Applies to authentication at the instance level meaning that the SSO login method is shown when a user tries to access an instance.
Role mapping is a feature exclusive to Instance SSO.

=== Instance SSO login methods

* Okta
* Microsoft Entra ID

You cannot disable user/password.
Professional and Free instances within your selected projects will not have SSO configured.

== Setup requirements

To set up SSO, you need:

* Authorization Code Flow
* A publicly accessible IdP server

To create an SSO Configuration either a Discovery URI or a combination of Issuer, Authorization Endpoint, Token Endpoint and JWKS URI is required.

== Create a new SSO configuration

From the *Organization settings*, go to *Single Sign-On* and use the *SSO Configuration* button to set up a new SSO configuration.

.Organization settings
[.shadow]
image::organizationsettings.png[A screenshot of how to navigate to organization settings in the UI]

The checkboxes *Use as a log in for the Organization* and *Use as login method for instances with projects in this Org* define whether SSO should be only on Organization level, only on Project level, or both.

The required basic SSO configuration information can be retrieved from the IdP.
Entering the Discovery URI pre-fills the fields below. 
If this is not known these fields can be completed manually.

.SSO configuration
[.shadow]
image::sso.png[A screenshot of the SSO configuration dialogue,640,480]

== Individual instance level SSO configurations available from Support

label:AuraDB-Business-Critical[]

Support can assist with:

* Role mapping specific to a database instance
* Custom groups claim besides `groups`
* Updating SSO on already running instances

If you require support assistance, visit link:https://support.neo4j.com/[Customer Support] and raise a support ticket including the following information:


. The _Project ID_ of the projects you want to use SSO for.
See xref:platform/user-management.adoc#_projects[Projects] for more information on how to find your __Project ID__.

. The name of your IdP

