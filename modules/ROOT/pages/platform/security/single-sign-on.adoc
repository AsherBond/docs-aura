[[aura-reference-security]]
= Single Sign-On (SSO)
:description: SSO allows you to log in to the Aura Console using their company IdP credentials.

Organization owners and organization admins can configure one or more SSO login methods for user authentication.
SSO allows users to authenticate through an Identity Provider (IdP) to access an organization or instances within a project.

Using the Aura console, you can select one _or both_ of the following configurations:

* Use as a login method for the organization (Organization SSO)
* Use as a login method for instances within Projects in this Org (Instance SSO)
 
== Use as a login method for the organization (Organization SSO)

Login methods:

* Okta
* Microsoft Entra ID
* Google SSO (not Google Workspace SSO) 

If you want to restrict access to the console/org to only the configured SSO provider, then disable email/pw and google login methods (See Figure 3).
Leave email/password and Google login enabled if you want users to continue to have access to the console using email/pw and Google logins. 

You can disable email/password and Google SSO if Okta or Microsoft Entra ID are configured.

When Organization SSO is set up, the *Organization SSO login* link is available in the *Organization Settings > Summary* section of the Aura console. 

Users who log in via Organization SSO do not automatically get access to the organization that SSO is configured on.
Users must still be invited to a project within the organization in order to get access to that organization.

== Use as a login method for instances within Projects in this Org (Instance SSO)

During the SSO configuration (see Figure 2) you can select which projects are included during setup.
Applies to authentication at the instance level meaning that the SSO login method is shown when a user tries to access an instance.
Role-mapping via SSO is only available for this option.

Login methods:

* Okta
* Microsoft Entra ID

You cannot disable user/password.
Professional and Free instances within your selected projects will not have SSO configured.

This only applies to instances in the project that are created after Instance SSO was configured. 

== Setup requirements

To set up SSO, you need:

* Authorization Code Flow
* A publicly accessible IdP server

To create an SSO Configuration either a Discovery URI or a combination of Issuer, Authorization Endpoint, Token Endpoint and JWKS URI is required.

== Create a new SSO configuration

From the *Organization settings*, go to *Single Sign-On* and use the *SSO Configuration* button to set up a new SSO configuration.

.Organization settings
[.shadow]
image::organizationsettings.png[A screenshot of how to navigate to organization settings in the UI]

The checkboxes *Use as a log in for the Organization* and *Use as login method for instances with projects in this Org* define whether SSO should be only on Organization level, only on Project level, or both.

The required basic SSO configuration information can be retrieved from the IdP.
Entering the Discovery URI pre-fills the fields below. 
If this is not known these fields can be completed manually.

.SSO configuration
[.shadow]
image::sso.png[A screenshot of the SSO configuration dialogue,640,480]

== Individual instance level SSO configurations available from Support

label:AuraDB-Business-Critical[]

Support can assist with:

* Role mapping specific to a database instance
* Custom groups claim besides `groups`
* Updating SSO on already running instances

If you require support assistance, visit link:https://support.neo4j.com/[Customer Support] and raise a support ticket including the following information:


. The _Project ID_ of the projects you want to use SSO for.
See xref:platform/user-management.adoc#_projects[Projects] for more information on how to find your __Project ID__.

. The name of your IdP

